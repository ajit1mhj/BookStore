@model IEnumerable<Book>

<h1 class="mb-3">Books</h1>

<a asp-action="AddBook" asp-controller="Book" class="btn btn-primary mb-3">
    Add More
</a>

@if (Model != null && Model.Any())
{
    <table class="table table-bordered table-striped">
        <thead class="table-dark">
            <tr>
                <th>Image</th>
                <th>Book</th>
                <th>Author</th>
                <th>Genre</th>
                <th>Price</th>
                <th style="width:160px">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var book in Model)
            {
                <tr>
                    <td>
                        @if (!string.IsNullOrWhiteSpace(book.Image))
                        {
                            <img src="@book.Image"
                                 alt="book image"
                                 class="img-thumbnail"
                                 style="width:80px; height:100px;" />
                        }
                        else
                        {
                            <img src="~/Images/no-image.jpg"
                                 alt="no image"
                                 class="img-thumbnail"
                                 style="width:80px; height:100px;" />
                        }
                    </td>

                    <td>@book.BookName</td>
                    <td>@book.AuthorName</td>
                    <td>@book.Genre?.Name</td>
                    <td>@book.Price.ToString("C")</td>

                    <td>
                        <a asp-action="UpdateBook"
                           asp-controller="Book"
                           asp-route-id="@book.Id"
                           class="btn btn-sm btn-success me-1">
                            Edit
                        </a>

                        <a asp-action="DeleteBook"
                           asp-controller="Book"
                           asp-route-id="@book.Id"
                           class="btn btn-sm btn-danger"
                           onclick="return confirm('Are you sure you want to delete this book?');">
                            Delete
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-warning">
        No books available.
    </div>
}
